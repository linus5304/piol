{
  "version": 1,
  "lastUpdated": "2026-01-20T12:00:00Z",
  "features": [
    {
      "id": "redesign-0",
      "name": "UI Redesign: Setup & Preparation",
      "status": "done",
      "priority": 26,
      "spec": "openspec/changes/refactor-ui-redesign/specs/ui-branding/spec.md",
      "acceptance": [
        "add-production-polish archived",
        "leaflet & react-leaflet installed",
        "Item, Field, InputGroup, Empty, kbd, spinner, native-select components created",
        "bun run build passes with new components"
      ],
      "blockers": [],
      "notes": "Complete. Installed leaflet@1.9.4, react-leaflet@5.0.0, @types/leaflet@1.9.21. Created 7 new UI components following shadcn patterns."
    },
    {
      "id": "redesign-1",
      "name": "UI Redesign: Theme & Branding",
      "status": "done",
      "priority": 27,
      "spec": "openspec/changes/refactor-ui-redesign/specs/ui-branding/spec.md",
      "acceptance": [
        "globals.css uses zinc color palette",
        "Logo uses Lucide Home icon",
        "Favicon created and configured",
        "All hardcoded colors replaced with CSS variables"
      ],
      "blockers": ["redesign-0"],
      "notes": "Complete. Zinc theme (light default, dark mode), Home icon logo, icon.svg favicon. Replaced all hardcoded #FF385C/#E31C5F/text-gray-*/bg-gray-* with semantic colors across 14 files."
    },
    {
      "id": "redesign-2",
      "name": "UI Redesign: Layout Components",
      "status": "done",
      "priority": 28,
      "spec": "openspec/changes/refactor-ui-redesign/specs/ui-layout/spec.md",
      "acceptance": [
        "Public layout updated with consistent header/footer",
        "Renter dashboard uses tab-based navigation",
        "Landlord dashboard uses sidebar navigation",
        "Layout switcher detects user role"
      ],
      "blockers": ["redesign-1"],
      "notes": "Complete. Created dashboard-tabs.tsx for tab navigation and renter-dashboard-layout.tsx. Dashboard layout.tsx now detects user role and renders appropriate layout. Public layout container max-width set to max-w-7xl."
    },
    {
      "id": "redesign-3",
      "name": "UI Redesign: Messaging Components",
      "status": "done",
      "priority": 29,
      "spec": "openspec/changes/refactor-ui-redesign/specs/ui-messaging/spec.md",
      "acceptance": [
        "ConversationList uses Item/ItemGroup pattern",
        "MessageThread with sent/received bubble styling",
        "MessageComposer with InputGroup pattern",
        "Empty states for no conversations"
      ],
      "blockers": ["redesign-2"],
      "notes": "Complete. Created components/messaging/ with ConversationList (Item/ItemGroup pattern, search, unread badges), MessageThread (bubble styling, property context card, auto-scroll), MessageComposer (InputGroup pattern, Enter to send). Updated messages/page.tsx and messages/[id]/page.tsx to use new components."
    },
    {
      "id": "redesign-4",
      "name": "UI Redesign: Public Pages",
      "status": "todo",
      "priority": 30,
      "spec": "openspec/changes/refactor-ui-redesign/specs/ui-property-search/spec.md",
      "acceptance": [
        "Home page redesigned with zinc theme",
        "Properties page with interactive map view",
        "Property detail page with gallery carousel",
        "PropertyCard updated with minimal design"
      ],
      "blockers": ["redesign-2"],
      "notes": "Phase 4: Home, /properties (map view), /properties/[id], PropertyCard updates."
    },
    {
      "id": "redesign-5",
      "name": "UI Redesign: Renter Dashboard",
      "status": "todo",
      "priority": 31,
      "spec": "openspec/changes/refactor-ui-redesign/specs/ui-layout/spec.md",
      "acceptance": [
        "Renter home with stats cards",
        "Saved properties page with grid",
        "Messages page with ConversationList",
        "Payments page with history table",
        "Settings page with Field components"
      ],
      "blockers": ["redesign-3"],
      "notes": "Phase 5: All renter dashboard pages with tab layout."
    },
    {
      "id": "redesign-6",
      "name": "UI Redesign: Landlord Dashboard",
      "status": "todo",
      "priority": 32,
      "spec": "openspec/changes/refactor-ui-redesign/specs/ui-layout/spec.md",
      "acceptance": [
        "Landlord home with revenue stats",
        "Properties list with status badges",
        "Multi-step property form with FieldSet",
        "Messages integrated with property context"
      ],
      "blockers": ["redesign-3"],
      "notes": "Phase 6: All landlord dashboard pages with sidebar layout."
    },
    {
      "id": "redesign-7",
      "name": "UI Redesign: Static & Auth Pages",
      "status": "todo",
      "priority": 33,
      "spec": "openspec/changes/refactor-ui-redesign/specs/ui-branding/spec.md",
      "acceptance": [
        "About, Contact, Terms, Privacy pages styled",
        "Auth pages (sign-in, sign-up) styled with Clerk",
        "Onboarding page with FieldGroup"
      ],
      "blockers": ["redesign-1"],
      "notes": "Phase 7: All static and auth pages with consistent styling."
    },
    {
      "id": "redesign-8",
      "name": "UI Redesign: Final Polish & Testing",
      "status": "todo",
      "priority": 34,
      "spec": null,
      "acceptance": [
        "All loading skeletons match new designs",
        "All empty states use Empty component",
        "Error boundaries added",
        "bun run build & test pass",
        "Lighthouse 90+ performance"
      ],
      "blockers": ["redesign-4", "redesign-5", "redesign-6", "redesign-7"],
      "notes": "Phase 8: Loading states, empty states, error boundaries, code cleanup, testing, PR."
    },
    {
      "id": "polish-0",
      "name": "UI Engineer Skill",
      "status": "done",
      "priority": 19,
      "spec": "openspec/changes/archive/2026-01-20-add-production-polish/specs/ui-skills/spec.md",
      "acceptance": [
        ".cursor/skills/ui-engineer.md created with React/Tailwind/shadcn patterns",
        "/ui-review command created",
        ".cursor/rules.md updated with UI rules",
        "shadcn MCP server documented in skill"
      ],
      "blockers": [],
      "notes": "Complete. Expert UI skill following Vercel agent-skills pattern. Includes design tokens, component patterns, accessibility guidelines, and Piol-specific patterns."
    },
    {
      "id": "polish-1",
      "name": "Design System Consolidation",
      "status": "done",
      "priority": 20,
      "spec": "openspec/changes/archive/2026-01-20-add-production-polish/specs/design-system/spec.md",
      "acceptance": [
        "globals.css :root uses coral primary (#FF385C)",
        "globals.css .light theme variant updated",
        "packages/ui/tokens aligns with globals.css",
        "Build passes with new theme"
      ],
      "blockers": [],
      "notes": "Complete. globals.css updated from lime (#84cc16) to coral (#FF385C). Light mode updated. packages/ui/tokens already used coral. Chart colors and sidebar ring colors also updated."
    },
    {
      "id": "polish-2",
      "name": "Property Pages Cleanup",
      "status": "done",
      "priority": 21,
      "spec": "openspec/changes/archive/2026-01-20-add-production-polish/specs/design-system/spec.md",
      "acceptance": [
        "/properties uses bg-primary instead of #FF385C",
        "/properties/[id] uses bg-background instead of bg-white",
        "text-neutral-* replaced with semantic colors",
        "Dark mode renders correctly on both pages"
      ],
      "blockers": [],
      "notes": "Complete. Replaced all hardcoded colors: bg-white→bg-background (page/header/mobile bar), text-neutral-*→text-foreground/text-muted-foreground, bg-neutral-*→bg-muted/bg-border, text-verified→text-success. Added --primary-hover token to globals.css. Gallery controls kept white for image overlay contrast."
    },
    {
      "id": "polish-3",
      "name": "Dashboard Pages Cleanup",
      "status": "done",
      "priority": 22,
      "spec": "openspec/changes/archive/2026-01-20-add-production-polish/specs/design-system/spec.md",
      "acceptance": [
        "Messages page uses text-muted-foreground not text-gray-*",
        "New property form TODO completed",
        "All console.log statements removed",
        "All dashboard pages render correctly"
      ],
      "blockers": [],
      "notes": "Complete. Fixed 8 dashboard pages: messages, messages/[id], saved, settings, properties, properties/new, properties/[id], payments. Replaced all text-gray-*/bg-gray-* with semantic colors (text-foreground, text-muted-foreground, bg-muted, bg-background). Removed console.log statements. Added --warning token to design system for status badges. Hardcoded #FF385C replaced with text-primary/bg-primary."
    },
    {
      "id": "polish-4",
      "name": "Component Deduplication",
      "status": "done",
      "priority": 23,
      "spec": "openspec/changes/archive/2026-01-20-add-production-polish/specs/design-system/spec.md",
      "acceptance": [
        "Single property-card.tsx in /components/properties/",
        "Duplicate file deleted",
        "All imports updated",
        "index.ts exports centralized"
      ],
      "blockers": [],
      "notes": "Complete. Deleted unused prototype in /components/properties/ (different data model, never imported). Moved real PropertyCard to /components/properties/. Updated 4 imports to use @/components/properties barrel export. Removed stale Property type export from index.ts."
    },
    {
      "id": "polish-5",
      "name": "Add Missing shadcn Components",
      "status": "done",
      "priority": 24,
      "spec": null,
      "acceptance": [
        "command component added (search palette)",
        "calendar component added (visit scheduling)",
        "carousel component added (property images)",
        "alert component added (notifications)"
      ],
      "blockers": [],
      "notes": "Complete. Added components.json config and installed command (cmdk), calendar (react-day-picker), carousel (embla-carousel), and alert components via shadcn CLI. Build verified."
    },
    {
      "id": "polish-6",
      "name": "AI Skills Integration",
      "status": "todo",
      "priority": 99,
      "spec": null,
      "acceptance": [
        "AI SDK v6 integrated",
        "Property search skill implemented",
        "Landlord assistant skill implemented"
      ],
      "blockers": ["redesign-8"],
      "notes": "Optional. Deferred until after UI redesign. Add AI-powered features using Vercel AI SDK agent patterns."
    },
    {
      "id": "prod-1",
      "name": "Sentry error tracking",
      "status": "done",
      "priority": 10,
      "spec": "openspec/changes/add-production-readiness/specs/deployment/spec.md",
      "acceptance": [
        "@sentry/nextjs installed in web app",
        "sentry.client.config.ts configured",
        "sentry.server.config.ts configured",
        "sentry.edge.config.ts configured",
        "next.config.ts uses withSentryConfig",
        "Sentry env vars documented in .env.example"
      ],
      "blockers": [],
      "notes": "Complete. Config files with env-aware settings, withSentryConfig wrapper in next.config.ts, source map upload support. Build verified."
    },
    {
      "id": "prod-2",
      "name": "Vercel Analytics",
      "status": "done",
      "priority": 11,
      "spec": null,
      "acceptance": [
        "@vercel/analytics installed",
        "@vercel/speed-insights installed",
        "Analytics component in root layout",
        "SpeedInsights component in root layout"
      ],
      "blockers": [],
      "notes": "Complete. @vercel/analytics@1.6.1 and @vercel/speed-insights@1.3.1 installed. Components added to root layout after Toaster. Tracks page views and Core Web Vitals automatically."
    },
    {
      "id": "prod-3",
      "name": "Fix code TODOs",
      "status": "done",
      "priority": 12,
      "spec": null,
      "acceptance": [
        "Toast notification on save error in properties page",
        "Settings form wired to updateProfile mutation"
      ],
      "blockers": [],
      "notes": "Complete. Toast notification on save error in /properties. Settings form now calls updateProfile mutation with phone and languagePreference. Alerts replaced with toast."
    },
    {
      "id": "prod-4",
      "name": "Claude Code Actions",
      "status": "done",
      "priority": 13,
      "spec": null,
      "acceptance": [
        "claude-pr-assistant.yml workflow with @claude trigger",
        "security-review.yml workflow for automatic PR scanning",
        "ANTHROPIC_API_KEY secret documented"
      ],
      "blockers": [],
      "notes": "Complete. Added claude-pr-assistant.yml (responds to @claude on PRs) and security-review.yml (auto-scans PRs to main). GitHub secrets documented in .env.example."
    },
    {
      "id": "prod-5",
      "name": "Environment documentation",
      "status": "done",
      "priority": 14,
      "spec": null,
      "acceptance": [
        ".env.example has production setup instructions",
        "AGENTS.md documents Convex dev/prod switching",
        "GitHub secrets documented (ANTHROPIC_API_KEY, VERCEL_*, CONVEX_*)"
      ],
      "blockers": [],
      "notes": "Complete. Production setup checklist added to .env.example. Convex dev/prod switching documented in AGENTS.md. GitHub secrets already documented in prod-4."
    },
    {
      "id": "mvp-0",
      "name": "Auth pages exist",
      "status": "done",
      "priority": 0,
      "spec": null,
      "acceptance": [
        "Sign-up page renders at /sign-up",
        "Sign-in page renders at /sign-in",
        "Clerk auth integration works"
      ],
      "blockers": [],
      "notes": "Completed. Auth pages functional with Clerk."
    },
    {
      "id": "mvp-1",
      "name": "Redirect to dashboard after auth",
      "status": "done",
      "priority": 1,
      "spec": null,
      "acceptance": [
        "After sign-in, user lands on /dashboard",
        "After sign-up, user lands on /dashboard/onboarding",
        "Unauthenticated users cannot access /dashboard"
      ],
      "blockers": [],
      "notes": "Redirects via Clerk fallbackRedirectUrl props in SignIn/SignUp. Route protection via proxy.ts (Next.js 16 convention) using clerkMiddleware + auth.protect(). Demo mode passthrough when Clerk not configured."
    },
    {
      "id": "mvp-2",
      "name": "Browse properties at /properties",
      "status": "done",
      "priority": 2,
      "spec": null,
      "acceptance": [
        "Route /properties loads without error",
        "Properties fetched from Convex (not mock data)",
        "Filtering by city works with real data",
        "Filtering by property type works",
        "Search query filters results"
      ],
      "blockers": [],
      "notes": "Wired to Convex listProperties and searchProperties queries. City filter uses index. Property type filter client-side for 'apartment' category (includes 1br-4br). Search triggers at 2+ chars. Loading skeletons added."
    },
    {
      "id": "mvp-3",
      "name": "View property detail at /properties/[id]",
      "status": "done",
      "priority": 3,
      "spec": null,
      "acceptance": [
        "Route /properties/[id] loads property from Convex",
        "Property images display",
        "Amenities list renders",
        "Landlord info shows",
        "Contact/message button present"
      ],
      "blockers": [],
      "notes": "Wired to Convex getProperty query. Updated query to resolve image URLs from storage. Loading skeleton and not-found states added. Landlord info, amenities, and contact button all functional."
    },
    {
      "id": "mvp-4",
      "name": "Landlord can create property",
      "status": "done",
      "priority": 4,
      "spec": null,
      "acceptance": [
        "Form at /dashboard/properties/new submits to Convex",
        "Property created with status 'draft'",
        "Images upload to Convex storage",
        "Landlord redirected to property list after creation",
        "Property appears in landlord's dashboard"
      ],
      "blockers": [],
      "notes": "Completed. Form wired to createProperty, generateUploadUrl, addPropertyImages mutations. Images uploaded sequentially. Dashboard list uses getMyProperties query."
    },
    {
      "id": "mvp-5",
      "name": "User can message landlord",
      "status": "done",
      "priority": 5,
      "spec": null,
      "acceptance": [
        "Message button on property detail sends message",
        "Conversation created in Convex",
        "Messages list at /dashboard/messages shows conversations",
        "Real-time message updates work"
      ],
      "blockers": [],
      "notes": "Completed. Contact dialog on property detail sends via sendMessage mutation. Messages list wired to getConversations. Conversation view wired to getMessages + sendMessage + markMessagesAsRead. Real-time updates automatic via Convex useQuery."
    },
    {
      "id": "mvp-6",
      "name": "User can save properties",
      "status": "done",
      "priority": 6,
      "spec": null,
      "acceptance": [
        "Heart/save button on property card toggles saved state",
        "Saved properties stored in Convex savedProperties table",
        "Saved properties list at /dashboard/saved shows user's saves",
        "Save state persists across sessions"
      ],
      "blockers": [],
      "notes": "Completed. Added getSavedPropertyIds query for efficient bulk checking. PropertyCard updated with controlled isSaved/onToggleSave props. /properties page wires save functionality. /dashboard/saved wired to getSavedProperties with full property details."
    }
  ]
}
